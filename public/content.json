{"meta":{"title":"fire","subtitle":"","description":"","author":"foxscallion","url":"http://www.foxscallion.xyz","root":"/"},"pages":[],"posts":[{"title":"在centos7安装nodejs并升级nodejs版本","slug":"在centos7安装nodejs并升级nodejs版本","date":"2022-01-08T01:07:56.399Z","updated":"2022-01-08T01:16:38.555Z","comments":true,"path":"posts/59268fdb.html","link":"","permalink":"http://www.foxscallion.xyz/posts/59268fdb.html","excerpt":"","text":"1. 安装 nodejs 1.1 使用 EPEL 安装EPEL（Extra Packages for Enterprise Linux）企业版 Linux 的额外软件包，是 Fedora 小组维护的一个软件仓库项目，为 RHEL/CentOS 提供他们默认不提供的软件包。先确认系统是否已经安装了 epel-release 包： 12$ yum info epel-release 如果有输出有关 epel-release 的已安装信息，则说明已经安装，如果提示没有安装或可安装，则安装 1$ yum install epel-release 安装完后，就可以使用 yum 命令安装 nodejs 了，安装的一般会是 6.x 的版本，并且会将 npm(3.x) 作为依赖包一起安装 1$ sudo yum install nodejs 安装完成后，验证是否正确的安装，node -v，如果输出如下版本信息，说明成功安装 1v6.13.3 问题来了，现在 nodejs 发的版本比较快，有些新的框架需要 node 的新版本，那如何升级。到现在，node 的最新版本是10.4.1，那么，下面介绍如何升级 nodejs 1.2 卸载 nodejs 注意：这里卸载并非必要步骤。只是提供卸载的方案，请按需操作，不要安装后又删除又进行安装掉进死循环了。 1.2.1 使用 yum 先删除一次 1yum remove nodejs npm -y 1.2.2 手动删除残留 进入 /usr/local/lib 删除所有 node 和 node_modules 文件夹 进入 /usr/local/include 删除所有 node 和 node_modules 文件夹 检查 ~ 文件夹里面的 “local” “lib” “include” 文件夹，然后删除里面的所有 “node” 和 “node_modules” 文件夹 可以使用以下命令查找 $ find ~/ -name node $ find ~/ -name node_modules 1.2.3 进入 /usr/local/bin 删除 node 的可执行文件 删除: /usr/local/bin/npm 删除: /usr/local/share/man/man1/node.1 删除: /usr/local/lib/dtrace/node.d 删除: rm -rf /home/[homedir]/.npm 删除: rm -rf /home/root/.npm 2. 升级 nodesj 2.1 安装 nn 是 nodejs 管理工具，是 TJ 写的，Github: https://github.com/tj/n 1$ npm install -g n 2.2 安装 nodejs 版本安装最新版 1$ n latest 安装指定版本 1$ n 8.11.3 2.3 切换 nodejs 版本1$ n 选择已安装的版本 12node/8.11.3node/10.4.1 查看当前版本node -v，下面表示已切换成功 1v8.13.3 但问题来了，切换后，查看版本还是原来的 v6.13.3，看下面 使用 n 切换 nodejs 版本失效的解决办法 3 切换失效的解决办法 3.1 查看 node 当前安装路径12$ which node/usr/local/bin/node #举个例子 3.2 修改默认路径而 n 默认安装路径是 /usr/local，若你的 node 不是在此路径下，n 切换版本就不能把 bin、lib、include、share 复制该路径中，所以我们必须通过 N_PREFIX 变量来修改 n 的默认 node 安装路径。编辑环境配置文件： 1$ vim ~/.bash_profile 3.3 将下面两行代码插入到文件末尾：12export N_PREFIX=/usr/local #node实际安装位置export PATH=$N_PREFIX/bin:$PATH 3.4 :wq保存退出3.5 执行 source 使修改生效。1$ source ~/.bash_profile 3.6 这时候再查看node -v发现版本切换成功了。","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2022-01-08T01:07:56.398Z","updated":"2022-01-08T01:07:56.399Z","comments":true,"path":"posts/4a17b156.html","link":"","permalink":"http://www.foxscallion.xyz/posts/4a17b156.html","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[],"tags":[]}